<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  overflow: hidden;
  font-family: Arial, sans-serif;
  color: white;
}

video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  object-fit: cover;
  display: none;
}

#overlay {
  position: fixed;
  width: 100vw;
  height: 100vh;
  background: black;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  text-align: center;
  z-index: 10;
}

.heart {
  font-size: 70px;
  animation: pulse 1s infinite;
}

@keyframes pulse {
  50% { transform: scale(1.2); }
}

.big {
  font-size: 90px;
}
</style>
</head>

<body>

<div id="overlay">
  <div id="firstScreen">
    <div class="heart">❤️</div>
    <div>Bấm đi nè</div>
  </div>

  <div id="message" class="big" style="display:none;">Iu Cún</div>
  <div id="countdown" class="big" style="display:none;">5</div>
</div>

<video id="myVideo"
playsinline
webkit-playsinline
preload="auto">
  <source src="dbea6fe3-58bd-4727-bd6f-be2ecbf1dfb3.mp4" type="video/mp4">
</video>

<script>
const overlay = document.getElementById("overlay");
const firstScreen = document.getElementById("firstScreen");
const message = document.getElementById("message");
const countdownEl = document.getElementById("countdown");
const video = document.getElementById("myVideo");

let clicked = false;

video.load();

overlay.addEventListener("click", async function() {

  if(clicked) return;
  clicked = true;

  // Fullscreen ngay khi bấm
  if (video.webkitEnterFullscreen) {
      video.webkitEnterFullscreen();
  }

  // Fake play để preload sâu
  try {
    await video.play();
    setTimeout(() => {
      video.pause();
      video.currentTime = 0;
    }, 60);
  } catch(e) {}

  firstScreen.style.display = "none";
  message.style.display = "block";

  setTimeout(() => {

    message.style.display = "none";
    countdownEl.style.display = "block";

    let count = 5;

    const timer = setInterval(() => {

      count--;

      if(count > 2) {   // chỉ hiển thị 5,4,3
        countdownEl.innerText = count;
      } else {
        clearInterval(timer);

        overlay.remove();
        video.style.display = "block";
        video.play();
      }

    }, 1000);

  }, 1200);

});
</script>

</body>
</html>
