<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>❤️</title>

<style>
html, body{
  margin:0;
  padding:0;
  background:black;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  font-family:Arial, sans-serif;
}

#heart{
  font-size:80px;
  cursor:pointer;
  animation:beat 1s infinite;
}

@keyframes beat{
  0%{transform:scale(1)}
  50%{transform:scale(1.15)}
  100%{transform:scale(1)}
}

#text, #countdown{
  position:absolute;
  color:white;
  font-size:50px;
  display:none;
}

video{
  position:fixed;
  inset:0;
  width:100vw;
  height:100vh;
  object-fit:cover;
  display:none;
  background:black;
}
</style>
</head>

<body>

<div id="heart">❤️</div>
<div id="text">iu cún</div>
<div id="countdown"></div>

<video id="vid"
playsinline
webkit-playsinline
preload="auto"
>
  <source src="dbea6fe3-58bd-4727-bd6f-be2ecbf1dfb3.mp4" type="video/mp4">
</video>

<script>
const heart = document.getElementById("heart");
const text = document.getElementById("text");
const countdown = document.getElementById("countdown");
const video = document.getElementById("vid");

heart.addEventListener("click", async () => {

  // Ẩn tim
  heart.style.display = "none";

  // Fake load video để iPhone đỡ đơ
  video.load();
  try {
    await video.play();
    video.pause();
    video.currentTime = 0;
  } catch(e){}

  // Hiện chữ iu cún
  text.style.display = "block";

  // Bắt đầu đếm sau 1 giây
  setTimeout(() => {
    text.style.display = "none";
    countdown.style.display = "block";

    let numbers = [5,4,3,2];
    let i = 0;

    const interval = setInterval(async () => {
      countdown.textContent = numbers[i];
      i++;

      // Khi tới số 2 (cuối cùng)
      if(i === numbers.length){
        clearInterval(interval);
        countdown.style.display = "none";

        // Hiện video
        video.style.display = "block";

        try{
          await video.play();
        }catch(e){}

        // Fullscreen
        if(video.requestFullscreen){
          video.requestFullscreen();
        } else if(video.webkitRequestFullscreen){
          video.webkitRequestFullscreen();
        }
      }

    }, 1000);

  }, 1000);

});
</script>

</body>
</html>
